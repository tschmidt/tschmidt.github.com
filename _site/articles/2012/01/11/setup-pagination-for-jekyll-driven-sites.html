<!doctype html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>SchmidtHappens | Paginate Like a Boss</title>
	<meta name="author" content="Terry Schmidt">
	
	<link href='http://plus.google.com/103688769817504697011/' rel='author'/>
  <link href='/css/normalize.css' rel='stylesheet'>
  <link href='/css/site.css' rel='stylesheet'>
  <link href='/css/responsive.css' rel='stylesheet'>
  <link rel="stylesheet" href="/css/pygments-friendly.css">
  
  
	<script src="/js/libs/modernizr-2.0.min.js"></script>
	<script src="/js/libs/respond.min.js"></script>

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  
  <header role='main'>
    <div class='container'>
      <a href='/' class='pull-left'>
        <h1>
          Schmidt<span>Happens</span>
        </h1>
      </a>

      <nav role="navigation" class='pull-right'>
        <ul>
          <li id="n-articles">
            <a href='/articles'>
              Articles
            </a>
          </li>
          <li id="n-tips">
            <a href='/tips'>
              Tips
            </a>
          </li>
          <li id="n-about">
            <a href='/about'>
              About
            </a>
          </li>
          <li id="n-projects">
            <a href='/projects'>
              Projects
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>
  
  <div class='container article-container'>
    <article>
  <header>
  <h2 class='article-title large'>Paginate Like a Boss</h2>
</header>
<aside class='article-meta fullpage'>
  <ul class='unstyled'>
    <li class="date"><strong>11 Jan 2012</strong></li>
    <li class="tags">articles, how to, jekyll, and pagination</li>
  </ul>
</aside>
<p>My blog has finally gotten to the point where pagination is required. In this post I walk you through the steps I took to add pagination to my own Jekyll driven blog. Aren't I awesome?<span id="continue"></span></p>
  
  <p>
    In order to tell Jekyll that you want to use pagination you will need to
    modify your <code>_config.yml</code> file.
  </p>
  
  <div class="highlight"><pre><code class="ruby"><span class="o">.</span><span class="n">.</span><span class="o">.</span>
  <span class="ss">paginate</span><span class="p">:</span> <span class="mi">10</span></code></pre></div>
  
  <p>
    By adding this to our config file, we are telling Jekyll that we would like
    to activate the pagination module and that each paginated page should show
    a maximum of 10 entries. Now, you can obviously change this to any number
    you would like. This also gives us access to the <code>paginator</code> object
    which we will look at next.
  </p>
  
  <h2>Getting to Know the Paginator</h2>
  
  <p>
    Once Jekyll sees that we want to use pagination we have access to the <code>paginator</code>
    object. You can go <a href="https://github.com/mojombo/jekyll/wiki/Template-Data" target="_blank">here</a>
    to get more information on what methods you can call on this object. The 2
    that we are going to look at right now are <code>#previous_page</code> and
    <code>#next_page</code>.
  </p>
  
  <p>
    As you may have deduced, <code>#previous_page</code> and <code>#next_page</code>
    return the previous page number of paginated results and the next page number of paginated
    results. If there is no previous or next result then nil is returned. We
    can use this to our advantage when we are creating our simple navigation.
  </p>
  
  <p>
    The next thing to be aware of is the naming convention used for the pagination
    pages. Jekyll labels these "page2", "page3", "page4", and so on. This means
    that in order to reference the URL for our paginated page we would write
    something like <code>http://mysite.com/page2/</code>. Keen readers may have
    noticed I didn't start with "page1". Keep that in mind as we work through
    this exercise.
  </p>
  
  <p>
    I should mention here that in order to <acronym title="Keep It Simple Stupid">KISS</acronym>,
    I have opted to only show a previous and next link if it's appropriate. There
    are methods available that tell you the number of pages, the current page number,
    and so on if you would like to add this information. I may update this post
    at a later date with how to do that if there is a demand for it.
  </p>
  
  <h2>The Nitty Gritty</h2>
  
  <p>
    Before we start coding, let's think about how we will implement this feature.
    Since I want this to be as simple as possible I want to just have 2 links
    for navigation: next page and previous page. These will most likely be
    wrapped in a container of some sort. Since this is technically "navigation"
    it only makes sense to use the <code>&lt;nav&gt;</code> element.
  </p>
  
  <div class="highlight"><pre><code class="html"><span class="nt">&lt;nav</span> <span class="na">id=</span><span class="s">&quot;pagination&quot;</span><span class="nt">&gt;</span>
    ...
  <span class="nt">&lt;/nav&gt;</span></code></pre></div>
  
  <p>
    Since I'm already using a <code>&lt;nav&gt;</code> element to wrap the 
    main navigation at the top I have also added an ID to the pagination nav.
    I chose to go with an ID because I don't anticipate having more than one
    pagination navigation element per page. Next, we need to think about the
    links themselves.
  </p>
  
  <p>
    The easiest solution would to just put 2 links in this container and call
    it a day.
  </p>
  
  <div class="highlight"><pre><code class="html"><span class="nt">&lt;nav</span> <span class="na">id=</span><span class="s">&quot;pagination&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/page{{ paginator.previous_page }}/&quot;</span> <span class="na">title=</span><span class="s">&quot;Previous Page&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;laquo;</span> Previous<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/page{{ paginator.next_page }}/&quot;</span> <span class="na">title=</span><span class="s">&quot;Next Page&quot;</span><span class="nt">&gt;</span>Next <span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;</span>
  <span class="nt">&lt;/nav&gt;</span></code></pre></div>
  
  <p>
    Unfortunately, there are a couple of problems with this approach. Let's start
    with the "next page" link since it is the simpler of the 2. The problem with
    just putting the link there is that there may not be a "next page" of articles.
    Let's say we have 15 articles published and we are listing 10 articles per-page.
    Page 2 would only have 5 articles listed which would mean there is no page 3
    eliminating the need for a "next page" link.
  </p>
  
  <p>
    Luckily we can address this problem. Remember when I mentioned that the
    <code>#next_page</code> method returns <code>nil</code> if there is no
    next page? We can take advantage of that in an <code>if</code> statement.
  </p>
  
  <div class="highlight"><pre><code class="html"><span class="nt">&lt;nav</span> <span class="na">id=</span><span class="s">&quot;pagination&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/page{{ paginator.previous_page }}/&quot;</span> <span class="na">title=</span><span class="s">&quot;Previous Page&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;laquo;</span> Previous<span class="nt">&lt;/a&gt;</span>
    {% if paginator.next_page %} 
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/page{{ paginator.next_page }}/&quot;</span> <span class="na">title=</span><span class="s">&quot;Next Page&quot;</span><span class="nt">&gt;</span>Next <span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;</span>
    {% endif %} 
  <span class="nt">&lt;/nav&gt;</span></code></pre></div>
  
  <p>
    Now, the "next page" link will only display if there is actually a next page.
    Let's tackle the "previous page" link.
  </p>
  
  <p>
    There are 2 problems we need to address with the "previous page" link.
    The first is similar to the "next page" so we can address that in a similar
    manner.
  </p>
  
  <div class="highlight"><pre><code class="html"><span class="nt">&lt;nav</span> <span class="na">id=</span><span class="s">&quot;pagination&quot;</span><span class="nt">&gt;</span>
    {% if paginator.previous_page %} 
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/page{{ paginator.previous_page }}/&quot;</span> <span class="na">title=</span><span class="s">&quot;Previous Page&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;laquo;</span> Previous<span class="nt">&lt;/a&gt;</span>
    {% endif %}
    
    {% if paginator.next_page %} 
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/page{{ paginator.next_page }}/&quot;</span> <span class="na">title=</span><span class="s">&quot;Next Page&quot;</span><span class="nt">&gt;</span>Next <span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;</span>
    {% endif %} 
  <span class="nt">&lt;/nav&gt;</span></code></pre></div>
  
  <p>
    Now that the link will only be displayed if there is a previous page of articles,
    we need to address the problem with linking to the first page of results.
    Since the paginator labels each page as <code>'/pageN'</code> the first
    page would be a URL that looks like <code>'http://mysite.com/page1'</code>.
    Unfortunately, this will result in a 404 error since there is no <code>'/page1'</code>.
    The first page of results is actually at the root (<code>'http://mysite.com/'</code>). Luckily, we can easily
    handle this scenario with an if-else statement and the <code>#previous_page</code>
    method.
  </p>
  
  <div class="highlight"><pre><code class="html"><span class="nt">&lt;nav</span> <span class="na">id=</span><span class="s">&quot;pagination&quot;</span><span class="nt">&gt;</span>
    {% if paginator.previous_page %}
      {% if paginator.previous_page == 1 %}
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/&quot;</span> <span class="na">title=</span><span class="s">&quot;Previous Page&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;laquo;</span> Previous<span class="nt">&lt;/a&gt;</span>
      {% else %}
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/page{{ paginator.previous_page }}/&quot;</span> <span class="na">title=</span><span class="s">&quot;Previous Page&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;laquo;</span> Previous<span class="nt">&lt;/a&gt;</span>
      {% endif %}
    {% endif %}
    
    {% if paginator.next_page %} 
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/page{{ paginator.next_page }}/&quot;</span> <span class="na">title=</span><span class="s">&quot;Next Page&quot;</span><span class="nt">&gt;</span>Next <span class="ni">&amp;raquo;</span><span class="nt">&lt;/a&gt;</span>
    {% endif %} 
  <span class="nt">&lt;/nav&gt;</span></code></pre></div>
  
  <p>
    And there you go. We now have pagination for our site. Everything is awesome
    and we can party like it's the end of the <a href="http://en.wikipedia.org/wiki/Maya_calendar#Long_Count" target="_blank">Mayan Calendar</a>.
    <del>Unfortunately, if you have a site similar to mine where you have separate index
    pages by category -- for example I have "Articles", "Tips", and "Rants" --
    this approach will not work on those category pages. In part 2, I will show you how to deal with this
    situation.</del> According to the <a href='http://jekyllrb.com/docs/pagination/' target='_blank'>Jekyll documentation</a>, pagination on tags and categories is not currently
		supported. Hopefully, this will become available in future versions.
  </p>
  
  <p>Something missing? Need more explanation? Let me know in the <accronym title="For those of you that are fans of the klassic Killer Instict video game, that was for you.">c-c-c-comments</accronym>!</p>
</article>
    
    
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'schmidthappensgh'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
    
  </div>
	
  <footer role="main">
    <div class='container'>
      <section class="comp about main">
        <header>
          <h2 class='article-title'>Sometimes...schmidt happens</h2>
        </header>
        <p>
          Schmidt<span>Happens</span> is the personal blog of Terry Schmidt. Here you will
          find articles on programming, design, culture and life. Explore.
          Enjoy. Spread the word.
        </p>
      </section>
      
      <div class='well-container'>
        <section class="well">
          <header>
            <h3>Currently on my bookshelf</h3>
          </header>
          <ul>
            
            <li>
              <a href='http://www.abookapart.com/products/html5-for-web-designers' target='_blank'>HTML5 for Web Designers</a> by
              
                <a href='http://adactio.com' target='_blank'>Jeremy Keith</a>
              
              
              
            </li>
            
            <li>
              <a href='http://www.poodr.com' target='_blank'>Practical Object Oriented Design in Ruby: An Agile Primer</a> by
              
                <a href='https://twitter.com/sandimetz' target='_blank'>Sandi Metz</a>
              
              
              
            </li>
            
            <li>
              <a href='http://www.abookapart.com/products/the-elements-of-content-strategy' target='_blank'>The Elements of Content Strategy</a> by
              
                <a href='http://incisive.nu/about/' target='_blank'>Erin Kissane</a>
              
              
              
            </li>
            
            <li>
              <a href='' target='_blank'>Rails 4 in Action</a> by
              
              
              
                
                  <a href='http://ryanbigg.com' target='_blank'>Ryan Bigg</a>, 
                
                  <a href='http://yehudakatz.com' target='_blank'>Yehuda Katz</a> and 
                
                  <a href='http://words.steveklabnik.com' target='_blank'>Steve Klabnik</a>
                
              
            </li>
            
          </ul>
        </section>
        
        <section class="well">
          <header>
            <h3>Sites &amp; Resources</h3>
          </header>
          <ul class='unstyled'>
            
              <li>
                <a href='http://www.fontsquirrel.com' target='_blank' title='Handpicked fonts for graphic designers'>Font Squirrel</a>
              </li>
            
              <li>
                <a href='http://google.com/fonts' target='_blank' title='Hundreds of free, open-source fonts optimized for the web'>Google Web Fonts</a>
              </li>
            
              <li>
                <a href='http://necolas.github.io/normalize.css/' target='_blank' title='Make browsers render all elements more consistently'>normalize.css</a>
              </li>
            
          </ul>
        </section>
        
        <section class="well">
          <header>
            <h3>Stalk Me</h3>
          </header>
          <ul class='unstyled'>
            
              <li>
                <a href='https://twitter.com/tschmidt' target='_blank' title='The personal twitter account for Terry Schmidt'>twitter/tschmidt</a>
              </li>
            
              <li>
                <a href='https://twitter.com/linkluv' target='_blank' title='The twitter account I use to show some link love'>twitter/linkluv</a>
              </li>
            
              <li>
                <a href='https://github.com/tschmidt' target='_blank' title='A collection of projects I work on'>github/tschmidt</a>
              </li>
            
          </ul>
        </section>
      </div>
    </div>
  </footer>
	
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/js/libs/jquery-1.6.2.min.js"><\/script>')</script>

<!-- scripts concatenated and minified via ant build script-->
<script src="/js/plugins.js"></script>
<script src="/js/script.js"></script>
<!-- end scripts-->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-26092524-1', 'schmidt-happens.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');

</script>

<!--[if lt IE 7 ]>
	<script src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1.0.2/CFInstall.min.js"></script>
	<script>window.attachEvent("onload",function(){CFInstall.check({mode:"overlay"})})</script>
<![endif]-->

</body>
</html>
